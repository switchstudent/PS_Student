<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>All Students Data</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
    <style>
      .grade-a {
        color: var(--pico-color-green-500);
        font-weight: bold;
      }
      .grade-b {
        color: var(--pico-color-blue-500);
        font-weight: bold;
      }
      .grade-c {
        color: var(--pico-color-yellow-600);
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header class="container">
      <nav>
        <ul>
          <li><a href="class-analysis.html">Class Analysis</a></li>
          <li><a href="all-students-data.html">All Students Data</a></li>
        </ul>
      </nav>
      <hgroup>
        <h1>All Students Data</h1>
        <p>Complete student records using for loop templating</p>
      </hgroup>
    </header>
    <main class="container">
      <section>
        <h2>Student Records</h2>
        <div class="overflow-auto"></div>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Roll No</th>
              <th>Hindi</th>
              <th>English</th>
              <th>Maths</th>
              <th>Computers</th>
              <th>Science</th>
              <th>Total marks</th>
              <th>Average</th>
              <th>Grade</th>
            </tr>
          </thead>
          <tbody id="students-data"></tbody>
        </table>
      </section>
    </main>

    <footer class="container">
      <small>Learning HTML templating with for loops</small>
    </footer>

    <script>
      const studentsData = [
        {
          name: "Rahul",
          rollNo: 101,
          hindi: 80,
          english: 75,
          maths: 90,
          computers: 88,
          science: 82,
          totalMarks: 415,
          avgMarks: 83,
        },
        {
          name: "Amit",
          rollNo: 102,
          hindi: 85,
          english: 70,
          maths: 95,
          computers: 92,
          science: 78,
          totalMarks: 420,
          avgMarks: 84,
        },
        {
          name: "Priya",
          rollNo: 103,
          hindi: 78,
          english: 92,
          maths: 87,
          computers: 95,
          science: 90,
          totalMarks: 442,
          avgMarks: 88.4,
        },
        {
          name: "Kaveri",
          rollNo: 104,
          hindi: 89,
          english: 95,
          maths: 96,
          computers: 98,
          science: 91,
          totalMarks: 469,
          avgMarks: 93.8,
        },
      ];

      function getGrade(avgMarks) {
        if (avgMarks >= 90) return "A";
        if (avgMarks >= 80) return "B";
        if (avgMarks >= 70) return "C";
        if (avgMarks >= 60) return "D";
        if (avgMarks >= 50) return "E";
        return "F";
      }

      function renderStudentTable() {
        const tbody = document.getElementById("students-data");
        let tableHTML = "";

        for (let i = 0; i < studentsData.length; i++) {
          const students = studentsData[i];
          const grade = getGrade(students.avgMarks);
          tableHTML += `<tr>
            <td><strong>${students.name}</strong></td>
            <td>${students.rollNo}</td>
            <td>${students.hindi}</td>
            <td>${students.english}</td>
            <td>${students.maths}</td>
            <td>${students.computers}</td>
            <td>${students.science}</td>
            <td><strong>${students.totalMarks}</strong></td>
            <td>${students.avgMarks}</td>
            <td><strong>${grade}</strong></td>
            </tr>`;
        }
        tbody.innerHTML = tableHTML;
      }
      function initializePage() {
        renderStudentTable();
      }
      document.addEventListener("DOMContentLoaded", initializePage);
    </script>
  </body>
</html>
